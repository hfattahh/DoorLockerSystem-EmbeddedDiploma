/******************************************************************************
 *
 * Module: AtMega16_timers
 *
 * File Name: ATMEGA16_timers.c
 *
 * Description: Source file for the AVR ATMega16 timers driver
 * 				that file includes functions to operate atmega16 timers0
 * Future paln: add Timers1, and 2
 *
 * Created on: Jun 9, 2022
 *
 * Author: Hassan Khodeir
 *
 *******************************************************************************/
#include "ATMEGA16_timers.h"
#include "std_types.h" /*to use standard types like uint8*/
#include "common_macros.h" /* To use the macros like SET_BIT */
#include <avr/io.h> /*for ICU and Timers register*/
#include <avr/interrupt.h>/*for ICU ISR*/
/*******************************************************************************
 *                           Global Variables                                  *
 *******************************************************************************/

/* Global variables to hold the address of the call back function in the application */
static volatile void (*g_timer0CallBackPtr)(void) = NULL_PTR;
//static volatile void (*g_timer1CallBackPtr)(void) = NULL_PTR;
//static volatile void (*g_timer2CallBackPtr)(void) = NULL_PTR;

ISR(TIMER1_CAPT_vect){
	if(g_timer0CallBackPtr != NULL_PTR){

	}

}


/*
 * Description: Function to set the Call Back function address.
 */
void ATMEG_setCallBack(void(*a_ptr)(void)){
	/* Save the address of the Call back function in a global variable */
	g_timer0CallBackPtr = a_ptr;
}
